{% extends 'base.html' %}

{% block content %}
    <h1>{% block title %} Edit "{{ teacher['name'] ~ ' ' ~ teacher['surname'] }}" {% endblock %}</h1>

  {% with messages = get_flashed_messages() %}
      {% if messages %}
          <ul class="flashes">
              {% for message in messages %}
                  <li>{{ message }}</li>
              {% endfor %}
          </ul>
      {% endif %}
  {% endwith %}

    <form method="post">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" name="name" placeholder="Teacher's name"
                   class="form-control"
                   value="{{ request.form['name'] or teacher['name'] }}">
        </div>

        <div class="form-group">
            <label for="surname">Surname</label>
            <textarea name="surname" placeholder="Teacher's surname"
                      class="form-control">{{ request.form['surname'] or teacher['surname'] }}</textarea>
        </div>


        <div class="form-group">
            <label for="class_id">Select Classes</label>
            <select name="class_ids" multiple class="form-control">
                {% for class in all_classes %}
                    <option value="{{ class['class_id'] }}" {% if class['class_id'] in selected_classes %}selected{% endif %}>
                        {{ class['class_name'] }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>
    </form>

    <hr>

    <form action="{{ url_for('delete_teacher', teacher_id=teacher['teacher_id']) }}" method="POST">
        <input type="submit" value="Delete Teacher"
                class="btn btn-danger btn-sm"
                onclick="return confirm('Are you sure you want to delete this teacher?')">
    </form>

{% endblock %}
