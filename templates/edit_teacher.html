{% extends 'base.html' %}

{% block content %}
  <h1>
    {% block title %} Edit "{{ teacher['name'] ~ ' ' ~ teacher['surname'] }}" {% endblock %}
  </h1>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <ul class="flashes">
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}

  <form method="post">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" name="name" placeholder="Enter name"
             class="form-control"
             value="{{ request.form['name'] or teacher['name'] }}">
    </div>

    <div class="form-group">
      <label for="surname">Surname</label>
      <input type="text" name="surname" placeholder="Enter surname"
             class="form-control"
             value="{{ request.form['surname'] or teacher['surname'] }}">
    </div>

    <div class="form-group">
      <label for="classes">Select Classes</label>
      {% for dance_class in dance_classes_form %}
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="dance_classes_form" value="{{ dance_class['dance_class_id'] }}"
                 {% if dance_class['dance_class_id'] in selected_classes %} checked {% endif %}>
          <label class="form-check-label" for="{{ dance_class['dance_class_id'] }}">
            {{ dance_class['dance_class_name'] }}
          </label>
        </div>
      {% endfor %}
    </div>

    <div class="form-group">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>
  </form>

  <hr>

<form action="{{ url_for('delete_teacher', teacher_id=teacher['teacher_id']) }}" method="POST">
    <input type="submit" value="Delete Teacher"
           class="btn btn-danger btn-sm"
           onclick="return confirm('Are you sure you want to delete this teacher?')">
</form>
{% endblock %}
